{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home Assistant First Bus","text":"<p>Custom component built to bring you bus times for First Buses. This was built because buses in my area stopped having live times available in UK Transport integration, and time tabled based times were only available using the more expensive <code>nextbuses</code> call.</p> <p>This is unofficial and in no way endorsed by First Bus.</p> <p>Warning</p> <p>This component uses a private API used by First Bus website, so it could break at any time. I will do my best to keep the component working.</p>"},{"location":"#how-to-install","title":"How to install","text":""},{"location":"#hacs","title":"HACS","text":"<p>This integration can be installed directly via HACS. To install:</p> <ul> <li>Add the repository to your HACS installation</li> <li>Click <code>Download</code></li> </ul>"},{"location":"#manual","title":"Manual","text":"<p>You should take the latest published release. The current state of <code>develop</code> will be in flux and therefore possibly subject to change.</p> <p>To install, place the contents of <code>custom_components</code> into the <code>&lt;config directory&gt;/custom_components</code> folder of your Home Assistant installation. Once installed, don't forget to restart your home assistant instance for the integration to be picked up.</p>"},{"location":"#how-to-setup","title":"How to setup","text":"<p>Please follow the setup guide to setup your initial account. This guide details the configuration, along with the entities that will be available to you.</p>"},{"location":"#entities","title":"Entities","text":"<p>The full list of entities can be found in the entities section.</p>"},{"location":"#faq","title":"FAQ","text":"<p>Before raising anything, please read through the faq. If you have questions, then you can raise a discussion. If you have found a bug or have a feature request please raise it using the appropriate report template.</p>"},{"location":"#sponsorship","title":"Sponsorship","text":"<p>Please see the sponsorship page for more information.</p>"},{"location":"entities/","title":"Entities","text":"<p>Below is the list of entities that will be created with each instance of the integration.</p>"},{"location":"entities/#next-bus","title":"Next Bus","text":"<p><code>sensor.first_bus_&lt;&lt;NAME_OF_SENSOR&gt;&gt;_next_bus</code></p> <p>This will provide the number of minutes until one of the specified buses (or any if no specific buses were specified) reach the bus stop. If there is no known next bus, then <code>none</code>/<code>unknown</code> will be returned.</p> <p>The sensor will pull the latest times for the stop every 5 minutes. This is done so that the unofficial API isn't hammered and support is taken away, and I felt 5 minutes was long enough so that information wasn't too stale. This means that there is a chance that the time won't reflect the times on the app/website if they are updated within this 5 minute timeframe.</p> <p>The following attributes are available in addition</p> Attribute Type Notes <code>service_ref</code> <code>string</code> The internal reference for the service <code>service_number</code> <code>string</code> The name/number of the next bus <code>destination</code> <code>string</code> The destination of the next bus <code>due</code> <code>datetime</code> The timestamp of when the next bus is due <code>is_live</code> <code>boolean</code> Determines if the bus is being tracked (<code>true</code>) or is from the timetable (<code>false</code>) <code>stop</code> <code>string</code> The ATCO code of the bus stop that is being tracked <code>buses</code> <code>list</code> The collection of known upcoming buses for the stop <code>data_last_updated</code> <code>datetime</code> The timestamp when the underlying data was last updated <p>For each bus in <code>buses</code>, you can find the following attributes</p> Attribute Type Notes <code>service_ref</code> <code>string</code> The internal reference for the service <code>service_number</code> <code>string</code> The name/number of the next bus <code>destination</code> <code>string</code> The destination of the next bus <code>due</code> <code>datetime</code> The timestamp of when the next bus is due <code>is_live</code> <code>boolean</code> Determines if the bus is being tracked (<code>true</code>) or is from the timetable (<code>false</code>)"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#how-do-i-find-my-atco-code","title":"How do I find my ATCO code?","text":"<p>The <code>ATCO code</code> for your stop can be found in the same way that UK Transport outlines.</p> <ol> <li>On OpenStreetMap.org zoom right in on a bus stop you\u2019re interested in.</li> <li>Click the layers picker button on the right hand side.</li> <li>Tick the \u2018map data\u2019 layer, and wait for clickable objects to load.</li> <li>Click the bus stop node to reveal its tags on the left.</li> </ol> <p>However, there have been reports of missing ATCO codes. Therefore alternatively, you can follow the following instructions:</p> <ol> <li>Navigate to First Bus website and type your location</li> <li>Open up the development tools on your browser (usually F12) and go to the network tab</li> <li>Click on the stop that you're after and look at the network request. This should make a request to <code>https://www.firstbus.co.uk/api/get-next-bus?stop=XXX</code>. The value you're after will be in the response and also the value of XXX.</li> </ol>"},{"location":"faq/#how-do-i-increase-the-logs-for-the-integration","title":"How do I increase the logs for the integration?","text":"<p>If you are having issues, it would be helpful to include Home Assistant logs as part of any raised issue. This can be done by following the instructions outlined by Home Assistant.</p> <p>You should run these logs for about a day and then include the contents in the issue. Please be sure to remove any personal identifiable information from the logs before including them.</p>"},{"location":"setup/","title":"Setup","text":"<p>Setup is done entirely via the UI.</p> <p>You can setup the integration as many times as you like, with each setup tracking a different stop and potential buses from that stop. </p>"},{"location":"setup/#details","title":"Details","text":""},{"location":"setup/#name","title":"Name","text":"<p>This is the name to help identify the stop. It will also be used in any created sensors.</p>"},{"location":"setup/#atco-code","title":"ATCO code","text":"<p>This identifies the stop that you're wanting to track. Instructions on how to find this, can be found in the FAQ</p>"},{"location":"setup/#buses","title":"Buses","text":"<p>This is the list of buses that arrive at the designated stop that you're wanting to track. If you want any bus at the stop, leave this blank. If you are wanting multiple buses, then you will need to specify them in a comma separated list (e.g <code>19,20,21 A</code>)</p>"},{"location":"setup/#entities","title":"Entities","text":"<p>The full list of entities can be found in the entities section.</p>"},{"location":"sponsorship/","title":"Sponsorship","text":"<p>If you are enjoying the integration, why not if possible, make a one off or monthly GitHub sponsorship.</p>"}]}